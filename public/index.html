<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TeslaBullFeed üöÄ</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: system-ui, sans-serif; background: #000; color: white; min-height: 100vh; display: flex; flex-direction: column; }
    .header { position: relative; height: 40vh; overflow: hidden; } /* –ë—ã–ª–æ 55vh ‚Üí —Å—Ç–∞–ª–æ 40vh */
    .header-image { width: 100%; height: 100%; object-fit: cover; }
    .header-text { position: absolute; top: 16px; left: 16px; text-shadow: 2px 2px 8px #000; }
    .title { font-size: 32px; font-weight: 900; color: #e31937; }
    .subtitle { font-size: 18px; margin: 8px 0; }
    .motto { font-size: 22px; margin-top: 16px; }
    .price-section { background: #111; padding: 20px 16px; text-align: center; }
    .price-title { color: #e31937; font-size: 26px; font-weight: 700; margin-bottom: 10px; }
    .price-value { font-size: 44px; font-weight: 800; }
    .price-change { font-size: 17px; margin-top: 8px; }
    .positive { color: #0f0; }
    .negative { color: #f44; }
    .neutral { color: #aaa; }
    #feed { flex: 1; overflow-y: auto; padding: 12px; display: flex; flex-direction: column; gap: 20px; }
    .section-title { font-size: 26px; color: #e31937; text-align: center; margin: 10px 0; }
    .timeline-wrapper { background: transparent; box-shadow: none; padding: 0; }
    .news-item { background: #111; border-radius: 12px; padding: 14px; box-shadow: 0 2px 8px rgba(0,0,0,0.3); }
    .news-title a { color: #e31937; text-decoration: none; font-size: 16px; font-weight: 600; }
    .news-date { font-size: 12px; color: #aaa; margin-top: 8px; }
    #input-area { padding: 10px 12px; background: #000; border-top: 1px solid #333; display: flex; gap: 10px; align-items: end; }
    #message-input { flex: 1; padding: 12px 16px; background: #222; color: white; border: 1px solid #444; border-radius: 24px; font-size: 15px; resize: none; min-height: 44px; max-height: 120px; overflow-y: auto; }
    #send-btn { background: #e31937; color: white; border: none; width: 44px; height: 44px; border-radius: 50%; cursor: pointer; font-size: 20px; }
  </style>
</head>
<body>
  <div class="header">
    <img src="optimus-hero.jpg" alt="No FUD, Only Moon" class="header-image">
    <div class="header-text">
      <div class="title">TeslaBullFeed</div>
      <div class="subtitle">Daily Dose of TSLA Bull Catalysts</div>
      <div class="motto">üöÄ No FUD, Only Moon üåï</div>
    </div>
  </div>

  <div class="price-section">
    <div class="price-title">TSLA Live Price</div>
    <div class="price-value" id="price">$---.--</div>
    <div class="price-change neutral" id="change">Loading...</div>
  </div>

  <div id="feed">
    <div class="section-title">Tweets Feed</div>
    <div class="timeline-wrapper">
      <a class="twitter-timeline" data-theme="dark" data-height="600" data-chrome="noheader nofooter noborders transparent" href="https://twitter.com/elonmusk"></a>
    </div>
    <div class="timeline-wrapper">
      <a class="twitter-timeline" data-theme="dark" data-height="600" data-chrome="noheader nofooter noborders transparent" href="https://twitter.com/Tesla"></a>
    </div>

    <div class="section-title">News Feed</div>
    <div id="news-feed"></div>
  </div>

  <div id="input-area">
    <textarea id="message-input" placeholder="Share your bull thesis..." rows="1"></textarea>
    <button id="send-btn">‚û§</button>
  </div>

  <script async src="https://platform.twitter.com/widgets.js"></script>

  <script>
    const priceEl = document.getElementById('price');
    const changeEl = document.getElementById('change');

    async function updateTSLAPrice() {
      try {
        const proxy = 'https://corsproxy.io/?';
        const url = 'https://query1.finance.yahoo.com/v8/finance/chart/TSLA?interval=1m&range=1d';
        const res = await fetch(proxy + encodeURIComponent(url));
        const data = await res.json();
        const q = data.chart.result[0].meta;
        const price = q.regularMarketPrice.toFixed(2);
        const prev = q.previousClose.toFixed(2);
        const change = ((price - prev) / prev * 100).toFixed(2);

        priceEl.textContent = `$${price}`;
        changeEl.className = change > 0 ? 'price-change positive' : change < 0 ? 'price-change negative' : 'price-change neutral';
        changeEl.textContent = `\( {change > 0 ? '+' : ''} \){change}% (today)`;
      } catch {
        priceEl.textContent = '$---.--';
        changeEl.textContent = 'No connection';
      }
    }

    updateTSLAPrice();
    setInterval(updateTSLAPrice, 30000);

    async function loadTeslaNews() {
      const feed = document.getElementById('news-feed');
      const rss = 'https://news.google.com/rss/search?q=Tesla+stock+OR+Optimus+OR+Robotaxi+OR+FSD&hl=en-US&gl=US&ceid=US:en';
      const proxy = 'https://corsproxy.io/?' + encodeURIComponent(rss);

      try {
        const res = await fetch(proxy);
        const text = await res.text();
        const xml = new DOMParser().parseFromString(text, "text/xml");
        const items = xml.querySelectorAll("item");
        feed.innerHTML = '';
        let count = 0;
        items.forEach(item => {
          if (count >= 10) return;
          const title = item.querySelector("title")?.textContent.trim() || 'Tesla News';
          const link = item.querySelector("link")?.textContent.trim() || '#';
          const date = item.querySelector("pubDate")?.textContent ? new Date(item.querySelector("pubDate").textContent).toLocaleDateString('en-GB') : 'Recent';

          feed.innerHTML += `<div class="news-item">
            <div class="news-title"><a href="\( {link}" target="_blank"> \){title}</a></div>
            <div class="news-date">${date}</div>
          </div>`;
          count++;
        });
      } catch {
        feed.innerHTML = '<div class="news-item" style="text-align:center;color:#aaa;">News unavailable</div>';
      }
    }

    loadTeslaNews();

    const input = document.getElementById('message-input');
    input.addEventListener('input', () => {
      input.style.height = 'auto';
      input.style.height = input.scrollHeight + 'px';
    });
  </script>
</body>
</html>
